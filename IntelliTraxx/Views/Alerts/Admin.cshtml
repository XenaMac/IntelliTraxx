
@{
    ViewBag.Title = "Admin";
    Layout = "~/Views/Shared/_LayoutAlertsAdmin.cshtml";
}


<div id="nav" class="container-fluid center-block">
    <div id="logo"></div>
    <div id="mapIcon" class="mapIcon_in" data-toggle="tooltip" data-placement="left" title="Map"></div>
    <div id="alertsIcon" class="alertsIcon_in" data-toggle="tooltip" data-placement="left" title="Alerts"></div>
    <div id="geofenceIcon" class="geofenceIcon_in" data-toggle="tooltip" data-placement="left" title="Disabled"></div>
    <div id="appsIcon" class="appsIcon_in" data-toggle="tooltip" data-placement="bottom" title="Disabled"></div>
    <div id="diagnosticsIcon" class="diagnosticsIcon_in" data-toggle="tooltip" data-placement="right" title="Diagnostics"></div>
    <div id="analyticsIcon" class="analyticsIcon_in" data-toggle="tooltip" data-placement="right" title="Analytics"></div>
    <div id="adminIcon" class="adminIcon_in" data-toggle="tooltip" data-placement="right" title="Administration"></div>
    <div id="profileDiv" class="profileDiv_in">
        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm" }))
            {
            @Html.AntiForgeryToken()
            <small>
                <ul class="list-group">
                    <li class="list-group-item"><a href="" class="text-left" style="padding: 5px;"><i class="glyphicons glyphicons-user"></i> Jon McKinley (Administrator)</a><br /></li>
                    <li class="list-group-item"><a href="" class="text-left" style="padding: 5px;"><i class="glyphicons glyphicons-bell"></i> Notifications<span class="badge" style="margin-left: 5px;">3</span></a><br /></li>
                    <li class="list-group-item"><a href="" class="text-left" style="padding: 5px;"><i class="glyphicons glyphicons-question-sign"></i> Help</a></li>
                    <li class="list-group-item"><a href="javascript:document.getElementById('logoutForm').submit()" style="padding: 5px;"><i class="glyphicons glyphicons-exit"></i> Log off</a></li>
                </ul>
            </small>
        }
    </div>
</div>

<div class="container-fluid col-lg-8 col-lg-offset-2">
    <h1 class="text-right alertsPageHeader"><strong>Alerts Administration </strong></h1>
    <div id="alertsDiv" class="container-fluid"></div>
</div>

<script type="text/javascript">
    function queryParams() {
        return {
            type: 'owner',
            sort: 'updated',
            direction: 'desc',
            per_page: 25,
            page: 1
        };
    }

    function dateFormat(value, row, index) {
        if (value != "/Date(978332400000)/") {
            return moment(value).add(moment().utcOffset(), 'minutes').format('MM/DD/YYYY HH:mm');
        } else {
            return "N/A";
        }
    }

    function toggler(value, row, index) {
        if (value == true) {
            return '<input class="tog" id="' + row.AlertID + '" type="checkbox" checked data-toggle="toggle" data-onstyle="success" data-size="small">';
        } else {
            return '<input class="tog" id="' + row.AlertID + '" type="checkbox" data-toggle="toggle" data-onstyle="success" data-size="small">';
        }
    }

    function editBtn(value, row, index) {
        return '<button type="button" class="btn btn-default btn-xs glyphicons glyphicons-pencil editAlertBtn" id="' + row.AlertID + '"></button>';
    }
</script>